# 智能旅行助手 - 环境变量配置示例
# 复制此文件为 .env 并填入实际值

# ==========================================
# 基础配置
# ==========================================
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO
LOG_FORMAT=json

# ==========================================
# 服务器配置
# ==========================================
HOST=0.0.0.0
PORT=8000
WORKERS=1

# ==========================================
# 数据库配置 (PostgreSQL)
# ==========================================
# 本地开发
DATABASE_URL=postgresql+asyncpg://tripuser:trippass@localhost:5432/tripdb

# Docker环境
# DATABASE_URL=postgresql+asyncpg://tripuser:trippass@postgres:5432/tripdb

DATABASE_ECHO=false

# ==========================================
# Redis配置
# ==========================================
# 本地开发
REDIS_URL=redis://localhost:6379/0

# Docker环境
# REDIS_URL=redis://redis:6379/0

REDIS_PASSWORD=

# ==========================================
# 高德地图API配置
# ==========================================
# 必需: 从高德地图开放平台获取 https://lbs.amap.com/
AMAP_API_KEY=your_amap_api_key_here
AMAP_API_SECRET=

# ==========================================
# Unsplash API配置 (可选，用于图片)
# ==========================================
UNSPLASH_ACCESS_KEY=
UNSPLASH_SECRET_KEY=

# ==========================================
# LLM配置 (OpenAI)
# ==========================================
# 必需: OpenAI API Key
OPENAI_API_KEY=sk-your_openai_api_key_here
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4
OPENAI_TEMPERATURE=0.7

# 备用LLM配置 (可选)
LLM_API_KEY=
LLM_BASE_URL=
LLM_MODEL_ID=
LLM_TIMEOUT=60

# ==========================================
# LangSmith配置 (观测性，可选但推荐)
# ==========================================
# 从 https://smith.langchain.com/ 获取
LANGSMITH_API_KEY=ls-your_langsmith_key_here
LANGSMITH_PROJECT=trip-planner
LANGSMITH_ENDPOINT=https://api.smith.langchain.com
LANGSMITH_TRACING=true

# ==========================================
# JWT认证配置
# ==========================================
# 必需: 生产环境请使用强密钥 (至少32字符)
SECRET_KEY=your-secret-key-change-in-production-min-32-chars
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=30

# ==========================================
# CORS配置
# ==========================================
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,http://127.0.0.1:5173

# ==========================================
# 性能配置
# ==========================================
# 缓存TTL (秒)
CACHE_TTL_DEFAULT=3600
CACHE_TTL_POI=7200
CACHE_TTL_WEATHER=1800

# Agent执行超时和重试
AGENT_TIMEOUT=60
AGENT_MAX_RETRIES=3

# 限流配置
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# ==========================================
# 功能开关
# ==========================================
# 使用LangGraph (true/false)
USE_LANGGRAPH=true

# LangGraph失败时回退到旧版
LANGGRAPH_FALLBACK_ENABLED=true

# 启用缓存
CACHE_ENABLED=true

# 强制认证
AUTH_REQUIRED=false

# 启用指标收集
METRICS_ENABLED=true

# 启用审计日志
AUDIT_LOG_ENABLED=true

# ==========================================
# Docker Compose配置
# ==========================================
POSTGRES_USER=tripuser
POSTGRES_PASSWORD=trippass
POSTGRES_DB=tripdb
POSTGRES_PORT=5432

REDIS_PORT=6379

BACKEND_PORT=8000
FRONTEND_PORT=5173

GRAFANA_PASSWORD=admin